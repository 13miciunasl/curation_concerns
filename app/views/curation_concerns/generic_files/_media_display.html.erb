<% if generic_file.image? %>
   <%= link_to main_app.download_path(generic_file), target: "_new", title: "Download the full-sized image" do %>
     <%= image_tag(main_app.download_path(generic_file, file: 'thumbnail'),
                   class: "img-responsive",
                   alt: "Download the full-sized image of #{generic_file.title.first}"
                  ) %>
     Download the full-sized image
   <% end %>
<% elsif generic_file.video? %>
  <video controls="controls" class="video-js vjs-default-skin" data-setup="{}" preload="auto">
    <source src="<%= main_app.download_path(generic_file, file: 'webm') %>" type="video/webm" />
    <source src="<%= main_app.download_path(generic_file, file: 'mp4') %>" type="video/mp4" />
    Your browser does not support the video tag.
  </video>
<% elsif generic_file.audio? %>
    <audio controls="controls" class="audiojs" preload="auto">
    <source src="<%= main_app.download_path(generic_file, file: 'ogg') %>" type="audio/ogg" />
    <source src="<%= main_app.download_path(generic_file, file: 'mp3') %>" type="audio/mpeg" />
    Your browser does not support the audio tag.
  </audio>
<% elsif generic_file.pdf? %>
  <%= link_to download_path(generic_file), target: "_new", title: "Download the full-sized PDF" do%>
    <%= image_tag main_app.download_path(generic_file, file: 'thumbnail'),
                  class: "img-responsive",
                  alt: "Download the full-sized PDF of #{generic_file.title.first}" %>
    Download the full-sized PDF
  <% end %>
<% else %>
  <%= link_to main_app.download_path(generic_file), target: "_new", title: "Download the document" do %>
    <%= image_tag "default.png", alt: "No preview available", class: "img-responsive" %>
  <% end %>
<% end %>
